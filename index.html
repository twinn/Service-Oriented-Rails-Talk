<!DOCTYPE html>
<html>
<head>
<link href="css/reset.css" rel="stylesheet" />
<meta charset="utf-8" />
<meta name="viewport" content="width=1024" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<link rel="shortcut icon" href="css/favicon.png" />
<link rel="apple-touch-icon" href="css/apple-touch-icon.png" />
<!-- Code Prettifier: -->
<link href="css/highlight.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<link href="css/style.css" rel="stylesheet" />
<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,800italic,300,400,800' rel='stylesheet' type='text/css'>    


</head>

<body>
<div class="fallback-message">
  <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
  <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
</div>
<div id="impress">
  <div class='step' >

    <h1>Service-Oriented Patterns in Ruby</h1>

    <p>Tony Winn - Developer @envylabs and @codeschool</p>

  </div>
  <div class='step' >

    <h1 style="text-decoration:line-through">Service-Oriented Patterns in Ruby</h1>

    <p>Tony Winn - Developer @envylabs and @codeschool</p>

  </div>
  <div class='step' >

    <h1>How to Love your large ruby app.</h1>

    <p>Tony Winn - Developer @envylabs and @codeschool</p>

  </div>
  <div class='step' >
    <h2>How you start to loose that loving feeling.</h2>
  </div>
  <div class='step' >
    <h2>How you start to loose that loving feeling.</h2>
    <ul>
      <li>Your app gets fat.</li>
    </ul>
  </div>
  <div class='step' >
    <h2>How you start to loose that loving feeling.</h2>
    <ul>
      <li>Your app gets fat.</li>
      <li>First in the wrong places (controllers).</li>
    </ul>
  </div>
  <div class='step' >
    <h2>How you start to loose that loving feeling.</h2>
    <ul>
      <li>Your app gets fat.</li>
      <li>First in the wrong places (controllers).</li>
      <li>Then it gets too fat even in the “right” places. (models).</li>
    </ul>
  </div>
  <div class='step' >
    <h1>What’s the best way to write a large rails app?</h1>
  </div>
  <div class='step' >
    <h1>"Don't"</h1>
    <p>- Conventional Wisdom</p>
  </div>
  <div class='step' >
    <h1>Build many small applications.</h1>
  </div>
  <div class='step' >
    <h2>Big Apps = Suck</h2>
    <h2>Small Apps = Win</h2>
  </div>
  <div class='step' >
    <h2>Big Apps == Suck</h2>
    <h2>Small Apps == Win</h2>
  </div>
  <div class='step' >
    <h2>Poorly-Structured Systems = Suck</h2>
    <h2>Well-Structured Systems = Win</h2>
  </div>
  <div class='step' >
    <h1>So what structure is best for my “system”?</h1>
  </div>
  <div class='step' >
    <h1>It depends.</h1>
    <p>*maybe the most true thing ever said about software.</p>
  </div>
  <div class='step' >
    <h2>Factors you want to think about.</h2>
  </div>
  <div class='step' >
    <h2>Factors you want to think about.</h2>
    <ul>
      <li>Will having multiple apps speed up or slow down development?</li>
    <ul>
  </div>
  <div class='step' >
    <h2>Factors you want to think about.</h2>
    <ul>
      <li>Will having multiple apps speed up or slow down development?</li>
      <li>Will having multiple apps fit the development culture of your team?</li>
    <ul>
  </div>
  <div class='step' >
    <h2>Factors you want to think about.</h2>
    <ul>
      <li>Will having multiple apps speed up or slow down development?</li>
      <li>Will having multiple apps fit the development culture of your team?</li>
      <li>Is it worth the business cost?</li>
    <ul>
  </div>
  <div class='step' >
    <h1>Don’t optimize prematurely.</h1>
    <p>* probably the second most true saying in software</p>
  </div>
  <div class='step' >
    <h2>Take the smallest next right step for your application.</h2>
    <ul>
    <ul>
  </div>
  <div class='step' >
    <h2>Take the smallest next right step for your application.</h2>
    <ul>
      <li>Refactor business logic out of views and controllers.</li>
    <ul>
  </div>
  <div class='step' >
    <h2>Take the smallest next right step for your application.</h2>
    <ul>
      <li>Refactor business logic out of views and controllers.</li>
      <li>Extract complicated (uses more than one model) business logic into service classes.</li>
    <ul>
  </div>
  <div class='step' >
    <h2>Take the smallest next right step for your application.</h2>
    <ul>
      <li>Refactor business logic out of views and controllers.</li>
      <li>Extract complicated (uses more than one model) business logic into service classes.</li>
      <li>Namespace related logic. (Models, Services, ext.)</li>
    <ul>
  </div>
  <div class='step' >
    <h2>Take the smallest next right step for your application.</h2>
    <ul>
      <li>Refactor business logic out of views and controllers.</li>
      <li>Extract complicated (uses more than one model) business logic into service classes.</li>
      <li>Namespace related logic. (Models, Services, ext.)</li>
      <li>Extract namespace into a local component(rails engine).</li>
    <ul>
  </div>
  <div class='step' >
    <h2>If after any of these steps your team is of proud of the application, stop.</h2>
  </div>
  <div class='step' >
    <h2>The last resort*: Service-Oriented Architecture</h2>
  </div>
  <div class='step' >
    <h2>When to reach for SOA first.</h2>
    <ul>
    </ul>
  </div>
  <div class='step' >
    <h2>When to reach for SOA first.</h2>
    <ul>
      <li>You want to use different languages for different parts of your app.</li>
    </ul>
  </div>
  <div class='step' >
    <h2>When to reach for SOA first.</h2>
    <ul>
      <li>You want to use different languages for different parts of your app.</li>
      <li>You have many teams of developers.</li>
    </ul>
  </div>
  <div class='step' >
    <h2>When to reach for SOA first.</h2>
    <ul>
      <li>You want to use different languages for different parts of your app.</li>
      <li>You have many teams of developers.</li>
      <li>You plan on replacing the current existing system completely.</li>
    </ul>
  </div>
  <div class='step' >
    <h1>SOA Patterns in Rails</h1>
  </div>
  <div class='step' >
    <h2>Rails -> DB -> Service</h2>
    <ul>
    </ul>
  </div>
  <div class='step' >
    <h2>Rails -> DB -> Service</h2>
    <ul>
      <li>Great to use if business logic doesn’t overlap.</li>
    </ul>
  </div>
  <div class='step' >
    <h2>Rails -> DB -> Service</h2>
    <ul>
      <li>Great to use if business logic doesn’t overlap.</li>
      <li>Great when one app creates data, the other consumes it.</li>
    </ul>
  </div>
  <div class='step' >
    <h2>Rails -> DB -> Service</h2>
    <ul>
      <li>Great to use if business logic doesn’t overlap.</li>
      <li>Great when one app creates data, the other consumes it.</li>
      <li>Most languages/frameworks have already handled the integration for you.</li>
    </ul>
  </div>
  <div class='step' >
    <h2>Rails -> clientside js -> Service</h2>
    <ul>
    </ul>
  </div>
  <div class='step' >
    <h2>Rails -> clientside js -> Service</h2>
    <ul>
      <li>Great when business logic doesn’t overlap.</li>
    </ul>
  </div>
  <div class='step' >
    <h2>Rails -> clientside js -> Service</h2>
    <ul>
      <li>Great when business logic doesn’t overlap.</li>
      <li>Probably will have to figure out how to share user sessions.</li>
    </ul>
  </div>
  <div class='step' >
    <h2>Rails -> clientside js -> Service</h2>
    <ul>
      <li>Great when business logic doesn’t overlap.</li>
      <li>Probably will have to figure out how to share user sessions.</li>
      <li>Consider processing js serverside with phantom to speed up load time. (especially for mobile).</li>
    </ul>
  </div>
  <div class='step' >
    <h2>Rails -> HTTP -> Service</h2>
    <ul>
    </ul>
  </div>
  <div class='step' >
    <h2>Rails -> HTTP -> Service</h2>
    <ul>
      <li>Good for when business logic does overlap.</li>
    </ul>
  </div>
  <div class='step' >
    <h2>Rails -> HTTP -> Service</h2>
    <ul>
      <li>Good for when business logic does overlap.</li>
      <li>Better when response time is not an issue. Move to background job if possible.</li>
    </ul>
  </div>
  <div class='step' >
    <h2>Rails -> Messaging Queue -> Service</h2>
    <ul>
    </ul>
  </div>
  <div class='step' >
    <h2>Rails -> Messaging Queue -> Service</h2>
    <ul>
      <li>Great when you’ve got different platforms across services.</li>
    </ul>
  </div>
  <div class='step' >
    <h2>Rails -> Messaging Queue -> Service</h2>
    <ul>
      <li>Great when you’ve got different platforms across services.</li>
      <li>Generally very fast.</li>
    </ul>
  </div>
  <div class='step' >
    <h2>Rails -> Messaging Queue -> Service</h2>
    <ul>
      <li>Great when you’ve got different platforms across services.</li>
      <li>Generally very fast.</li>
      <li>Async.</li>
    </ul>
  </div>
  <div class='step' >
    <h2>Rails -> Messaging Queue -> Service</h2>
    <ul>
      <li>Great when you’ve got different platforms across services.</li>
      <li>Generally very fast.</li>
      <li>Async.</li>
      <li>Good libraries (rabbitmq with the amqp gem).</li>
    </ul>
  </div>
  <div class='step' >
    <h1>Common Roadblocks</h1>
  </div>
  <div class='step' >
    <h2>Sharing User Sessions</h2>
    <ul>
    </ul>
  </div>
  <div class='step' >
    <h2>Sharing User Sessions</h2>
    <ul>
      <li>Use pjax to send over cookie.</li>
    </ul>
  </div>
  <div class='step' >
    <h2>Sharing User Sessions</h2>
    <ul>
      <li>Use pjax to send over cookie.</li>
      <li>You’re going to have to reverse engineer how your sessions are encrypted. Probably in Warden/Devise.</li>
    </ul>
  </div>
  <div class='step' >
    <h2>Sharing User Sessions</h2>
    <ul>
      <li>Use pjax to send over cookie.</li>
      <li>You’re going to have to reverse engineer how your sessions are encrypted. Probably in Warden/Devise.</li>
      <li>Some opensource effort around this. http://github.com/mattetti/goRailsYourself</li>
    </ul>
  </div>
  <div class='step' >
    <h2>Sharing User Sessions</h2>
    <ul>
      <li>Use pjax to send over cookie.</li>
      <li>You’re going to have to reverse engineer how your sessions are encrypted. Probably in Warden/Devise.</li>
      <li>Some opensource effort around this. http://github.com/mattetti/goRailsYourself</li>
      <li>If server side you need to implement a token based auth for your apps to communicate.</li>
    </ul>
  </div>
  <div class='step' >
    <h2>Sharing Common Logic</h2>
    <ul>
    </ul>
  </div>

  <div class='step' >
    <h2>Sharing Common Logic</h2>
    <ul>
      <li>If all your services are written in ruby you could publish the common logic as a gem.</li>
    </ul>
  </div>

  <div class='step' >
    <h2>Sharing Common Logic</h2>
    <ul>
      <li>If all your services are written in ruby you could publish the common logic as a gem.</li>
      <li>Can be difficult to manage versions.</li>
    </ul>
  </div>
  <div class='step' >
    <h2>Sharing Common Logic</h2>
    <ul>
      <li>If all your services are written in ruby you could publish the common logic as a gem.</li>
      <li>Can be difficult to manage versions.</li>
      <li>Might be better to create a separate service that contains the common logic.</li>
    </ul>
  </div>
  <div class='step' >
    <h2>Questions/Experiences</h2>
  </div>
  <div class='step' >
    <h2>Further Learning </h2>
    <ul>
      <li><a href="http://rubyamqp.info/">ampq gem</a></li>
      <li><a href="http://www.youtube.com/watch?v=-54SDanDC00">Component-based Architectures in Ruby and Rails by Stephan Hagemann</a></li>
      <li><a href="http://www.amazon.com/Service-Oriented-Design-Rails-Addison-Wesley-Professional-ebook/dp/B00413PHZU/ref=sr_1_1?ie=UTF8&qid=1394738963&sr=8-1&keywords=service+oriented+ruby+paul+dix">Service-Oriented Design with Ruby and Rails</a></li>
    </ul>
      
  </div>

  <script src="js/impress.js"></script>
  <script>impress().init();</script>
  </body>
  </html>
